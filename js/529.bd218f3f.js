(self["webpackChunko2_dashboard"]=self["webpackChunko2_dashboard"]||[]).push([[529],{1475:function(){(function(e,s,t){"use strict";L.AwesomeMarkers={},L.AwesomeMarkers.version="2.0.1",L.AwesomeMarkers.Icon=L.Icon.extend({options:{iconSize:[35,45],iconAnchor:[17,42],popupAnchor:[1,-32],shadowAnchor:[10,12],shadowSize:[36,16],className:"awesome-marker",prefix:"glyphicon",spinClass:"fa-spin",extraClasses:"",icon:"home",markerColor:"blue",iconColor:"white"},initialize:function(e){e=L.Util.setOptions(this,e)},createIcon:function(){var e=s.createElement("div"),t=this.options;return t.icon&&(e.innerHTML=this._createInner()),t.bgPos&&(e.style.backgroundPosition=-t.bgPos.x+"px "+-t.bgPos.y+"px"),this._setIconStyles(e,"icon-"+t.markerColor),e},_createInner:function(){var e,s="",t="",a="",i=this.options;return e=i.icon.slice(0,i.prefix.length+1)===i.prefix+"-"?i.icon:i.prefix+"-"+i.icon,i.spin&&"string"===typeof i.spinClass&&(s=i.spinClass),i.iconColor&&("white"===i.iconColor||"black"===i.iconColor?t="icon-"+i.iconColor:a="style='color: "+i.iconColor+"' "),"<i "+a+"class='"+i.extraClasses+" "+i.prefix+" "+e+" "+s+" "+t+"'></i>"},_setIconStyles:function(e,s){var t,a=this.options,i=L.point(a["shadow"===s?"shadowSize":"iconSize"]);t="shadow"===s?L.point(a.shadowAnchor||a.iconAnchor):L.point(a.iconAnchor),!t&&i&&(t=i.divideBy(2,!0)),e.className="awesome-marker-"+s+" "+a.className,t&&(e.style.marginLeft=-t.x+"px",e.style.marginTop=-t.y+"px"),i&&(e.style.width=i.x+"px",e.style.height=i.y+"px")},createShadow:function(){var e=s.createElement("div");return this._setIconStyles(e,"shadow"),e}}),L.AwesomeMarkers.icon=function(e){return new L.AwesomeMarkers.Icon(e)}})(0,document)},529:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>we});var a=t(3673),i=t(2323);const l=(0,a.HX)("data-v-e1ad47f0");(0,a.dD)("data-v-e1ad47f0");const o=(0,a.Wm)("div",{class:"text-h4"},"Dispatch",-1),r=(0,a.Wm)("div",{class:"text-subtitle1 q-mb-lg"},"Assign drivers to dispatch vehicles.",-1),n={class:"q-ml-md"},d=(0,a.Uk)(" Note that only vehicles currently in the selected warehouse are available for dispatching."),c=(0,a.Wm)("br",null,null,-1),m=(0,a.Uk)(" For vehicles outside of a warehouse, go to the "),h=(0,a.Uk)(" page to manually issue a gatepass. "),u={class:"col-auto"},p={class:"text-grey-9"},g={class:"text-grey-5"},v={class:"text-grey-5"},w={class:"q-gutter-y-xs"},W={class:"text-grey-7"},f={class:"text-grey-7"},y={key:0,class:"q-gutter-y-xs"},x={class:"text-grey-7"},b={class:"text-grey-7"},_={key:1,class:"q-gutter-y-xs"},k={class:"text-grey-7"},q={class:"text-grey-7"},z={class:"text-grey-7"},D=(0,a.Wm)("div",{class:"q-mb-sm"},"Permanent Drivers: ",-1),C=(0,a.Uk)("First: not assigned"),U=(0,a.Uk)("Second: not assigned"),I={class:"col-auto"},A={class:"text-grey-9"},V=(0,a.Wm)("div",{class:"text-grey-5"},"Warehouse",-1),P={class:"q-gutter-y-xs"},M={class:"text-grey-7"},S={class:"col-auto"},$={class:"text-grey-9"},E=(0,a.Wm)("div",{class:"text-grey-5"},"Warehouse",-1),T={class:"q-gutter-y-xs"},j={class:"text-grey-7"},Q={class:"row content-center items-baseline"},Z=(0,a.Wm)("span",{class:"q-mr-md"},"Choose driver from:",-1),H={class:"row"},O=(0,a.Wm)("div",{class:"text-h6"},"Alert",-1),R={class:"q-mb-md"},N=(0,a.Wm)("div",{class:"text-h6"},"Warning",-1),B=(0,a.Wm)("span",{class:"q-mb-md"},[(0,a.Uk)("A gatepass(under review or not) for this vehicle already exists, and that means this vehicle has already been dispatched, or there is a dispatch request for this vehicle that's under review."),(0,a.Wm)("br"),(0,a.Wm)("br"),(0,a.Uk)("Although you can still proceed with dispatching this vehicle, do note that it will make the previous gatepass expire.")],-1),F={class:"col-auto"};(0,a.Cn)();const Y=l(((e,s,t,L,Y,G)=>{const K=(0,a.up)("q-icon"),J=(0,a.up)("q-item-section"),X=(0,a.up)("q-item-label"),ee=(0,a.up)("q-item"),se=(0,a.up)("q-select"),te=(0,a.up)("q-card-section"),ae=(0,a.up)("q-card"),ie=(0,a.up)("l-tile-layer"),le=(0,a.up)("q-separator"),oe=(0,a.up)("l-tooltip"),re=(0,a.up)("l-marker"),ne=(0,a.up)("l-polyline"),de=(0,a.up)("l-feature-group"),ce=(0,a.up)("l-circle"),me=(0,a.up)("l-map"),he=(0,a.up)("q-btn-toggle"),ue=(0,a.up)("q-space"),pe=(0,a.up)("q-btn"),ge=(0,a.up)("q-card-actions"),ve=(0,a.up)("q-dialog"),we=(0,a.up)("q-page"),We=(0,a.up)("q-spinner"),fe=(0,a.Q2)("close-popup");return G.hasPermission&&Y.isLoaded?((0,a.wg)(),(0,a.j4)(we,{key:0,padding:""},{default:l((()=>[o,r,(0,a.Wm)(se,{class:"q-mb-md",filled:"",modelValue:Y.warehouse,"onUpdate:modelValue":s[1]||(s[1]=e=>Y.warehouse=e),hint:"Choose the warehouse you are dispatching from.",options:Y.warehouses,label:"Warehouse","stack-label":""},{option:l((e=>[(0,a.Wm)(ee,e.itemProps,{default:l((()=>[(0,a.Wm)(J,{avatar:""},{default:l((()=>[(0,a.Wm)(K,{name:"mdi-warehouse"})])),_:1}),(0,a.Wm)(J,null,{default:l((()=>[(0,a.Wm)(X,{innerHTML:e.opt.name},null,8,["innerHTML"]),(0,a.Wm)(X,{caption:""},{default:l((()=>[(0,a.Uk)("ID: "+(0,i.zw)(e.opt.id),1)])),_:2},1024)])),_:2},1024)])),_:2},1040)])),_:1},8,["modelValue","options"]),(0,a.Wm)(se,{class:"q-mb-md",filled:"",modelValue:Y.vehicle,"onUpdate:modelValue":s[2]||(s[2]=e=>Y.vehicle=e),hint:"Choose the vehicle you are dispatching.",options:Y.vehicles,label:"Dispatching Vehicle",disable:!Y.isVehiclesLoaded,"stack-label":""},{option:l((e=>[(0,a.Wm)(ee,e.itemProps,{default:l((()=>[(0,a.Wm)(J,{avatar:""},{default:l((()=>[(0,a.Wm)(K,{name:"mdi-truck"})])),_:1}),(0,a.Wm)(J,null,{default:l((()=>[(0,a.Wm)(X,{innerHTML:e.opt.name},null,8,["innerHTML"]),(0,a.Wm)(X,{caption:""},{default:l((()=>[(0,a.Uk)("ID: "+(0,i.zw)(e.opt.id),1)])),_:2},1024)])),_:2},1024)])),_:2},1040)])),_:1},8,["modelValue","options","disable"]),(0,a.Wm)(ae,{class:"bg-orange-9 text-white q-mb-md"},{default:l((()=>[(0,a.Wm)(te,{class:"flex row"},{default:l((()=>[(0,a.Wm)(K,{name:"warning",style:{"font-size":"45px"}}),(0,a.Wm)("div",n,[d,c,m,(0,a.Wm)("a",{onClick:s[3]||(s[3]=s=>e.$router.push("/routes")),style:{"text-decoration":"underline",cursor:"pointer"}},"Change Route"),h])])),_:1})])),_:1}),(0,a.Wm)(se,{class:"q-mb-md",filled:"",modelValue:Y.destinedWarehouse,"onUpdate:modelValue":s[4]||(s[4]=e=>Y.destinedWarehouse=e),hint:"Choose the warehouse you are dispatching the vehicle to.",options:Y.destinedWarehouses,disable:!Y.isVehiclesLoaded,label:"Destined Warehouse","stack-label":""},{option:l((e=>[(0,a.Wm)(ee,e.itemProps,{default:l((()=>[(0,a.Wm)(J,{avatar:""},{default:l((()=>[(0,a.Wm)(K,{name:"mdi-warehouse"})])),_:1}),(0,a.Wm)(J,null,{default:l((()=>[(0,a.Wm)(X,{innerHTML:e.opt.name},null,8,["innerHTML"]),(0,a.Wm)(X,{caption:""},{default:l((()=>[(0,a.Uk)("ID: "+(0,i.zw)(e.opt.id),1)])),_:2},1024)])),_:2},1024)])),_:2},1040)])),_:1},8,["modelValue","options","disable"]),(0,a.Wm)(me,{zoomAnimation:!0,"marker-zoom-animation":!0,center:Y.center,zoom:Y.zoom,options:{attributionControl:!1,zoomSnap:.5},class:"rounded-borders",style:{height:"30vh"},ref:"map","max-zoom":22,"min-zoom":1},{default:l((()=>[(0,a.Wm)(ie,{url:"https://mt0.google.com/vt/lyrs=m&hl=en&x={x}&y={y}&z={z}&s={s}"}),Y.vehicle?((0,a.wg)(),(0,a.j4)(re,{key:0,"lat-lng":G.getLatLng(Y.vehicle),icon:G.getMarkerIcon(Y.vehicle)},{default:l((()=>[(0,a.Wm)(oe,{style:{"font-size":"14px"}},{default:l((()=>[(0,a.Wm)("div",u,[(0,a.Wm)("div",p,(0,i.zw)(Y.vehicle.name),1),(0,a.Wm)("div",g,"Vehicle (Type: "+(0,i.zw)(Y.vehicle.type)+")",1),(0,a.Wm)("div",v,"IMEI: "+(0,i.zw)(Y.vehicle.imei),1),(0,a.Wm)(le,{class:"q-my-sm"}),(0,a.Wm)("div",w,[(0,a.Wm)("div",W,[(0,a.Wm)(K,{name:"local_fire_department",class:"q-mr-xs",style:{"font-size":"20px"}}),(0,a.Uk)("Ignition: "+(0,i.zw)(Y.vehicle.ignition),1)]),(0,a.Wm)("div",f,[(0,a.Wm)(K,{name:"speed",class:"q-mr-xs",style:{"font-size":"20px"}}),(0,a.Uk)("Speed: "+(0,i.zw)(Y.vehicle.speed)+" km/h ",1)])]),(0,a.Wm)(le,{class:"q-my-sm"}),Y.vehicle.warehouse?((0,a.wg)(),(0,a.j4)("div",_,[(0,a.Wm)("div",k,[(0,a.Wm)(K,{name:"mdi-warehouse",class:"q-mr-xs",style:{"font-size":"20px"}}),(0,a.Uk)("In Warehouse: "+(0,i.zw)(Y.vehicle.warehouse.name)+" (ID: "+(0,i.zw)(Y.vehicle.warehouse.id)+") ",1)])])):((0,a.wg)(),(0,a.j4)("div",y,[(0,a.Wm)("div",x,[(0,a.Wm)(K,{name:"mdi-steering",class:"q-mr-xs",style:{"font-size":"20px"}}),(0,a.Uk)("Driver: "+(0,i.zw)(Y.vehicle.driver?Y.vehicle.driver.name:"Unknown"),1)]),(0,a.Wm)("div",b,[(0,a.Wm)(K,{name:"confirmation_number",class:"q-mr-xs",style:{"font-size":"20px"}}),(0,a.Uk)("Gatepass Destination: "+(0,i.zw)(Y.vehicle.gatepass?Y.vehicle.gatepass.warehouse.name+(Y.vehicle.gatepass.reviewed?"":" (UNREVIEWED)"):"No gatepass issued"),1)])])),(0,a.Wm)(le,{class:"q-my-sm"}),(0,a.Wm)("div",q,[(0,a.Wm)(K,{name:"mdi-counter",class:"q-mr-xs",style:{"font-size":"20px"}}),(0,a.Uk)("Odometer: "+(0,i.zw)(Y.vehicle.current_mileage)+" km ",1)]),(0,a.Wm)(le,{class:"q-my-sm"}),(0,a.Wm)("div",z,[D,(0,a.Wm)("div",null,[(0,a.Wm)(K,{name:"airline_seat_recline_normal",class:"q-mr-xs",style:{"font-size":"20px"}}),Y.vehicle.first_permanent_driver?((0,a.wg)(),(0,a.j4)(a.HY,{key:0},[(0,a.Uk)("First: "+(0,i.zw)(Y.vehicle.first_permanent_driver.name)+" (ID: "+(0,i.zw)(Y.vehicle.first_permanent_driver.id)+")",1)],64)):((0,a.wg)(),(0,a.j4)(a.HY,{key:1},[C],64))]),(0,a.Wm)("div",null,[(0,a.Wm)(K,{name:"airline_seat_recline_normal",class:"q-mr-xs",style:{"font-size":"20px"}}),Y.vehicle.second_permanent_driver?((0,a.wg)(),(0,a.j4)(a.HY,{key:0},[(0,a.Uk)("Second: "+(0,i.zw)(Y.vehicle.second_permanent_driver.name)+" (ID: "+(0,i.zw)(Y.vehicle.second_permanent_driver.id)+")",1)],64)):((0,a.wg)(),(0,a.j4)(a.HY,{key:1},[U],64))])])])])),_:1})])),_:1},8,["lat-lng","icon"])):(0,a.kq)("",!0),(0,a.Wm)(de,{ref:"features"},{default:l((()=>[Y.warehouse?((0,a.wg)(),(0,a.j4)(re,{key:0,"lat-lng":G.getLatLng(Y.warehouse),icon:G.getMarkerIcon(Y.warehouse)},{default:l((()=>[(0,a.Wm)(oe,{style:{"font-size":"14px"}},{default:l((()=>[(0,a.Wm)("div",I,[(0,a.Wm)("div",A,(0,i.zw)(Y.warehouse.name),1),V,(0,a.Wm)(le,{class:"q-my-sm"}),(0,a.Wm)("div",P,[(0,a.Wm)("div",M,[(0,a.Wm)(K,{name:"mdi-radius",class:"q-mr-xs",style:{"font-size":"20px"}}),(0,a.Uk)("Radius: "+(0,i.zw)(Y.warehouse.radius)+" m ",1)])])])])),_:1})])),_:1},8,["lat-lng","icon"])):(0,a.kq)("",!0),Y.destinedWarehouse?((0,a.wg)(),(0,a.j4)(re,{key:1,"lat-lng":G.getLatLng(Y.destinedWarehouse),icon:G.getMarkerIcon(Y.destinedWarehouse)},{default:l((()=>[(0,a.Wm)(oe,{style:{"font-size":"14px"}},{default:l((()=>[(0,a.Wm)("div",S,[(0,a.Wm)("div",$,(0,i.zw)(Y.destinedWarehouse.name),1),E,(0,a.Wm)(le,{class:"q-my-sm"}),(0,a.Wm)("div",T,[(0,a.Wm)("div",j,[(0,a.Wm)(K,{name:"mdi-radius",class:"q-mr-xs",style:{"font-size":"20px"}}),(0,a.Uk)("Radius: "+(0,i.zw)(Y.destinedWarehouse.radius)+" m ",1)])])])])),_:1})])),_:1},8,["lat-lng","icon"])):(0,a.kq)("",!0),Y.warehouse&&Y.destinedWarehouse?((0,a.wg)(),(0,a.j4)(ne,{key:2,"lat-lngs":[G.getLatLng(Y.warehouse),G.getLatLng(Y.destinedWarehouse)]},null,8,["lat-lngs"])):(0,a.kq)("",!0)])),_:1},512),Y.warehouse?((0,a.wg)(),(0,a.j4)(ce,{key:1,"lat-lng":G.getLatLng(Y.warehouse),radius:Y.warehouse.radius,"fill-color":"#717172","fill-opacity":.2,fill:!0,weight:.6,color:"#717172"},null,8,["lat-lng","radius","fill-opacity","weight"])):(0,a.kq)("",!0)])),_:1},8,["center","zoom","options"]),(0,a.Wm)("div",Q,[Z,(0,a.Wm)(he,{class:"q-my-md",modelValue:Y.showOnlyPermanentDrivers,"onUpdate:modelValue":s[5]||(s[5]=e=>Y.showOnlyPermanentDrivers=e),"toggle-color":"blue-9",color:"white","text-color":"black",options:[{label:"Only Permanent Drivers",value:!0},{label:"All Drivers in the Warehouse",value:!1}],disable:!Y.vehicle},null,8,["modelValue","disable"])]),(0,a.Wm)(se,{class:"q-mb-md",filled:"",modelValue:Y.driver,"onUpdate:modelValue":s[6]||(s[6]=e=>Y.driver=e),hint:"Choose the driver you are dispatching.",options:Y.showOnlyPermanentDrivers?Y.permanentDrivers:Y.drivers,label:"Dispatching Driver",disable:!Y.vehicle,"stack-label":""},{option:l((e=>[(0,a.Wm)(ee,e.itemProps,{default:l((()=>[(0,a.Wm)(J,{avatar:""},{default:l((()=>[(0,a.Wm)(K,{name:"airline_seat_recline_normal"})])),_:1}),(0,a.Wm)(J,null,{default:l((()=>[(0,a.Wm)(X,{innerHTML:e.opt.label},null,8,["innerHTML"]),(0,a.Wm)(X,{caption:""},{default:l((()=>[(0,a.Uk)("ID: "+(0,i.zw)(e.opt.id)+" "+(0,i.zw)(e.opt.caption),1)])),_:2},1024)])),_:2},1024)])),_:2},1040)])),_:1},8,["modelValue","options","disable"]),(0,a.Wm)("div",H,[(0,a.Wm)(ue),(0,a.Wm)(pe,{color:"blue-9",onClick:G.dispatch,label:G.btnName},null,8,["onClick","label"])]),Y.message?((0,a.wg)(),(0,a.j4)(ve,{key:0,"model-value":!0,persistent:"","transition-show":"scale","transition-hide":"scale"},{default:l((()=>[(0,a.Wm)(ae,{style:{width:"350px"}},{default:l((()=>[(0,a.Wm)(te,null,{default:l((()=>[O])),_:1}),(0,a.Wm)(te,{class:"row items-center"},{default:l((()=>[(0,a.Wm)("span",R,(0,i.zw)(Y.message),1)])),_:1}),(0,a.Wm)(ge,{align:"right",class:"bg-white"},{default:l((()=>[(0,a.wy)((0,a.Wm)(pe,{flat:"",label:"OK",class:"text-blue-9",onClick:s[7]||(s[7]=e=>{Y.message="",Y.warehouse=null})},null,512),[[fe]])])),_:1})])),_:1})])),_:1})):(0,a.kq)("",!0),(0,a.Wm)(ve,{modelValue:Y.showWarningDialog,"onUpdate:modelValue":s[8]||(s[8]=e=>Y.showWarningDialog=e),persistent:"","transition-show":"scale","transition-hide":"scale"},{default:l((()=>[(0,a.Wm)(ae,{style:{width:"350px"}},{default:l((()=>[(0,a.Wm)(te,null,{default:l((()=>[N])),_:1}),(0,a.Wm)(te,{class:"row items-center"},{default:l((()=>[B])),_:1}),(0,a.Wm)(ge,{align:"right",class:"bg-white"},{default:l((()=>[(0,a.wy)((0,a.Wm)(pe,{flat:"",label:"OK",class:"text-blue-9"},null,512),[[fe]])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})):((0,a.wg)(),(0,a.j4)(we,{key:1,class:"flex flex-center"},{default:l((()=>[(0,a.Wm)("div",F,[(0,a.Wm)(We,{color:"blue-9",size:"50px"})])])),_:1}))}));t(4065);var G=t(385),K=t(8892);t(1475);const J={name:"Dispatch",components:{LMap:K.iA,LTileLayer:K.Hw,LMarker:K.$R,LTooltip:K.Gs,LCircle:K.J_,LFeatureGroup:K.m7,LPolyline:K.P6},data(){return{isLoaded:!1,isVehiclesLoaded:!1,warehouses:[],vehicles:[],drivers:[],permanentDrivers:[],warehouse:null,destinedWarehouse:null,destinedWarehouses:[],vehicle:null,driver:null,message:"",showOnlyPermanentDrivers:!0,center:null,zoom:13,showWarningDialog:!1}},computed:{hasPermission(){return!!this.$store.getters["auth/isSuperUser"]||this.$store.state.auth.user.level>=2},btnName(){return this.$store.getters["auth/isSuperUser"]||this.$store.state.auth.user.level>=3?"Dispatch and issue gatepass":"Request for dispatching"}},watch:{hasPermission(e){e||this.unauthorizedRedirect()},destinedWarehouse(e){this.showRoute()},warehouse(e){if(null!==e)if(e.vehicles.length){this.center=this.getLatLng(e),this.isVehiclesLoaded=!1,this.vehicle=null,this.drivers=this.warehouse.drivers,this.drivers.forEach(((e,s,t)=>{e.label=e.name,e.caption="CURRENTLY AVAILABLE",e.available&&e.warehouse_id===this.warehouse.id||t.splice(s,1)}));var s=this.warehouses;s.forEach(((e,s,t)=>{e.id===this.warehouse.id&&t.splice(s,1)})),this.destinedWarehouses=s,this.$api.get("/warehouse/"+e.id+"/vehicles").then((e=>{this.vehicles=e.data,this.vehicles.forEach((e=>e.label=e.name)),this.isVehiclesLoaded=!0})).catch((e=>{var s;this.$q.notify({message:void 0!==e.response.data.messages&&e.response.data.messages.length?e.response.data.messages[0]:null!==(s=e.response.data.message)&&void 0!==s?s:"Failed to execute this operation.",color:"red-9"})}))}else this.message="There aren't any vehicles available for dispatching in warehouse "+e.name+"."},vehicle(e){this.driver=null,this.permanentDrivers=[],this.showOnlyPermanentDrivers=!0,this.center=this.getLatLng(e),[e.first_permanent_driver,e.second_permanent_driver].forEach((e=>{e&&(e.label="Permanent Driver: "+e.name,e.caption="CURRENTLY AVAILABLE",e.available?e.warehouse_id!==this.warehouse.id&&(e.disable=!0,e.caption="UNAVAILABLE: driver not in selected warehouse."):(e.disable=!0,e.caption="UNAVAILABLE: driver not checked in."),this.permanentDrivers.push(e))}));var s=!1;this.permanentDrivers.forEach((e=>{e.disable||s||(s=!0,this.driver=e)})),s||(this.showOnlyPermanentDrivers=!1,this.$q.notify({message:"No permanent driver available. Switching to all drivers tab.",color:"orange-7"})),e.gatepass&&(this.showWarningDialog=!0)},showOnlyPermanentDrivers(e){if(e){var s=!1;this.permanentDrivers.forEach((e=>{e.disable||s||(s=!0,this.driver=e)}))}else this.driver=null}},methods:{showRoute(){this.$nextTick((()=>{if(this.$refs.features.leafletObject.getLayers().length<2)return this.showRoute();this.$refs.map.leafletObject.flyToBounds(this.$refs.features.leafletObject.getBounds())}))},unauthorizedRedirect(){this.$router.push("/"),this.$q.notify({message:"You are not authorized to use this page.",color:"red-7"})},getMarkerIcon(e){var s;return L.AwesomeMarkers.icon({prefix:"mdi",icon:null!==(s=e.icon)&&void 0!==s?s:"warehouse",markerColor:e.color,iconColor:"white"})},getLatLng(e){return e.latitude?(0,G.latLng)(e.latitude,e.longitude):null},dispatch(){this.$api.post("/dispatch",{starting:this.warehouse.id,destination:this.destinedWarehouse.id,vehicle:this.vehicle.id,driver:this.driver.id}).then((e=>{this.message=e.data.messages[0]})).catch((e=>{var s;this.$q.notify({message:void 0!==e.response.data.messages&&e.response.data.messages.length?e.response.data.messages[0]:null!==(s=e.response.data.message)&&void 0!==s?s:"Failed to execute this operation.",color:"red-9"})}))}},mounted(){this.$api.get("/warehouse/index").then((e=>{this.warehouses=e.data,this.warehouses.forEach((e=>e.label=e.name)),this.center=this.getLatLng(this.$store.state.auth.user.company),this.zoom=this.$store.state.auth.user.company.zoom,this.isLoaded=!0})).catch((e=>{var s;this.$q.notify({message:null!==(s=e.response.data.message)&&void 0!==s?s:"Failed to execute this operation.",color:"red-9"})}))}};var X=t(4379),ee=t(3314),se=t(3414),te=t(2035),ae=t(4554),ie=t(2350),le=t(151),oe=t(5589),re=t(5869),ne=t(201),de=t(2025),ce=t(2165),me=t(6778),he=t(9367),ue=t(9754),pe=t(677),ge=t(7518),ve=t.n(ge);J.render=Y,J.__scopeId="data-v-e1ad47f0";const we=J;ve()(J,"components",{QPage:X.Z,QSelect:ee.Z,QItem:se.Z,QItemSection:te.Z,QIcon:ae.Z,QItemLabel:ie.Z,QCard:le.Z,QCardSection:oe.Z,QSeparator:re.Z,QBtnToggle:ne.Z,QSpace:de.Z,QBtn:ce.Z,QDialog:me.Z,QCardActions:he.Z,QSpinner:ue.Z}),ve()(J,"directives",{ClosePopup:pe.Z})}}]);