"use strict";(self["webpackChunko2_dashboard"]=self["webpackChunko2_dashboard"]||[]).push([[997],{3997:(e,t,s)=>{s.r(t),s.d(t,{default:()=>A});var a=s(3673),l=s(2323);const i={class:"column items-center q-pa-md"},n={class:"text-subtitle1"},o={class:"text-subtitle2"},r={class:"text-body2"},u=(0,a.Uk)("SITE (SUPER USER)"),c=(0,a.Uk)("OVERVIEW"),p=(0,a.Uk)("OPERATION"),d=(0,a.Uk)("EVENTS"),m=(0,a.Uk)("ENTITIES"),w=(0,a.Uk)("SYSTEM"),g=(0,a.Wm)("div",{class:"col-auto q-px-md"},[(0,a.Wm)("div",{class:"text-h4"},"You are not logged in!"),(0,a.Wm)("div",{class:"text-subtitle1"},"Go to your company's login page at example.com/company/login")],-1),h={class:"row justify-center items-center"};function k(e,t,s,k,f,y){const v=(0,a.up)("q-btn"),b=(0,a.up)("q-toolbar-title"),_=(0,a.up)("q-btn-dropdown"),W=(0,a.up)("q-toolbar"),q=(0,a.up)("q-header"),L=(0,a.up)("q-item-label"),S=(0,a.up)("EssentialLink"),j=(0,a.up)("q-list"),$=(0,a.up)("q-scroll-area"),U=(0,a.up)("q-drawer"),Z=(0,a.up)("router-view"),Q=(0,a.up)("q-page-container"),x=(0,a.up)("q-layout"),C=(0,a.up)("q-page"),E=(0,a.up)("q-spinner"),H=(0,a.Q2)("close-popup");return e.authenticated?((0,a.wg)(),(0,a.j4)(x,{key:0,view:"lHh Lpr lFf"},{default:(0,a.w5)((()=>[(0,a.Wm)(q,{elevated:""},{default:(0,a.w5)((()=>[(0,a.Wm)(W,{class:"bg-blue-8"},{default:(0,a.w5)((()=>[(0,a.Wm)(v,{flat:"",dense:"",round:"",icon:"menu","aria-label":"Menu",onClick:e.toggleLeftDrawer},null,8,["onClick"]),(0,a.Wm)(b,null,{default:(0,a.w5)((()=>[(0,a.Uk)((0,l.zw)(e.$store.state.auth.company.name),1)])),_:1}),(0,a.Wm)(_,{flat:"",class:"full-height",label:e.$store.state.auth.user.name},{default:(0,a.w5)((()=>[(0,a.Wm)("div",i,[(0,a.Wm)("div",n,(0,l.zw)(e.$store.state.auth.user.name),1),(0,a.Wm)("div",o,"User ID: "+(0,l.zw)(e.$store.state.auth.user.id),1),(0,a.Wm)("div",r,(0,l.zw)(e.$store.getters["auth/isSuperUser"]?"Super User":"Company: "+e.$store.state.auth.company.name),1),e.$store.getters["auth/isSuperUser"]?(0,a.wy)(((0,a.wg)(),(0,a.j4)(v,{key:0,class:"q-mt-sm full-width",color:"blue-7",label:"Switch Company",push:"",onClick:t[1]||(t[1]=t=>e.$router.push("/companies"))},null,512)),[[H]]):(0,a.kq)("",!0),(0,a.wy)((0,a.Wm)(v,{class:"q-mt-sm full-width",color:"red-7",label:"Log Out",push:"",onClick:e.logOut},null,8,["onClick"]),[[H]])])])),_:1},8,["label"])])),_:1})])),_:1}),(0,a.Wm)(U,{modelValue:e.leftDrawerOpen,"onUpdate:modelValue":t[2]||(t[2]=t=>e.leftDrawerOpen=t),"show-if-above":"",bordered:"",class:"bg-grey-1"},{default:(0,a.w5)((()=>[(0,a.Wm)($,{class:"fit","thumb-style":{right:"4px",borderRadius:"5px",width:"5px",opacity:.35},"bar-style":{opacity:0}},{default:(0,a.w5)((()=>[(0,a.Wm)(j,null,{default:(0,a.w5)((()=>[e.$store.getters["auth/isSuperUser"]?((0,a.wg)(),(0,a.j4)(a.HY,{key:0},[(0,a.Wm)(L,{header:"",class:"text-grey-8"},{default:(0,a.w5)((()=>[u])),_:1}),((0,a.wg)(!0),(0,a.j4)(a.HY,null,(0,a.Ko)(e.adminLinks,(e=>((0,a.wg)(),(0,a.j4)(S,(0,a.dG)({key:e.title},e),null,16)))),128))],64)):(0,a.kq)("",!0),(0,a.Wm)(L,{header:"",class:"text-grey-8"},{default:(0,a.w5)((()=>[c])),_:1}),((0,a.wg)(!0),(0,a.j4)(a.HY,null,(0,a.Ko)(e.overviewLinks,(e=>((0,a.wg)(),(0,a.j4)(S,(0,a.dG)({key:e},e),null,16)))),128)),e.$store.getters["auth/isSuperUser"]||e.$store.state.auth.user.level>=2?((0,a.wg)(),(0,a.j4)(a.HY,{key:1},[(0,a.Wm)(L,{header:"",class:"text-grey-8"},{default:(0,a.w5)((()=>[p])),_:1}),((0,a.wg)(!0),(0,a.j4)(a.HY,null,(0,a.Ko)(e.operationLinks,(e=>((0,a.wg)(),(0,a.j4)(S,(0,a.dG)({key:e},e),null,16)))),128))],64)):(0,a.kq)("",!0),(0,a.Wm)(L,{header:"",class:"text-grey-8"},{default:(0,a.w5)((()=>[d])),_:1}),((0,a.wg)(!0),(0,a.j4)(a.HY,null,(0,a.Ko)(e.eventLinks,(e=>((0,a.wg)(),(0,a.j4)(S,(0,a.dG)({key:e},e),null,16)))),128)),(0,a.Wm)(L,{header:"",class:"text-grey-8"},{default:(0,a.w5)((()=>[m])),_:1}),((0,a.wg)(!0),(0,a.j4)(a.HY,null,(0,a.Ko)(e.entitiesLinks,(e=>((0,a.wg)(),(0,a.j4)(S,(0,a.dG)({key:e},e),null,16)))),128)),e.$store.getters["auth/isSuperUser"]||e.$store.state.auth.user.level>=2?((0,a.wg)(),(0,a.j4)(a.HY,{key:2},[(0,a.Wm)(L,{header:"",class:"text-grey-8"},{default:(0,a.w5)((()=>[w])),_:1}),((0,a.wg)(!0),(0,a.j4)(a.HY,null,(0,a.Ko)(e.systemLinks,(e=>((0,a.wg)(),(0,a.j4)(S,(0,a.dG)({key:e},e),null,16)))),128))],64)):(0,a.kq)("",!0)])),_:1})])),_:1},8,["thumb-style"])])),_:1},8,["modelValue"]),(0,a.Wm)(Q,null,{default:(0,a.w5)((()=>[(0,a.Wm)(Z)])),_:1})])),_:1})):!1===e.$store.state.auth.authenticated?((0,a.wg)(),(0,a.j4)(x,{key:1},{default:(0,a.w5)((()=>[(0,a.Wm)(Q,null,{default:(0,a.w5)((()=>[(0,a.Wm)(C,{class:"window-height window-width row justify-center items-center bg-blue-5 text-white"},{default:(0,a.w5)((()=>[g])),_:1})])),_:1})])),_:1})):((0,a.wg)(),(0,a.j4)(x,{key:2},{default:(0,a.w5)((()=>[(0,a.Wm)(Q,null,{default:(0,a.w5)((()=>[(0,a.Wm)(C,{class:"window-height window-width row justify-center items-center"},{default:(0,a.w5)((()=>[(0,a.Wm)("div",h,[(0,a.Wm)(E,{color:"blue-5",size:"50px"})])])),_:1})])),_:1})])),_:1}))}function f(e,t,s,i,n,o){const r=(0,a.up)("q-icon"),u=(0,a.up)("q-item-section"),c=(0,a.up)("q-item-label"),p=(0,a.up)("q-item");return e.$store.getters["auth/isSuperUser"]||e.$store.state.auth.user.level>=e.level?((0,a.wg)(),(0,a.j4)(p,{key:0,clickable:"",tag:"a",onClick:t[1]||(t[1]=t=>e.$router.push(e.link))},{default:(0,a.w5)((()=>[e.icon?((0,a.wg)(),(0,a.j4)(u,{key:0,avatar:""},{default:(0,a.w5)((()=>[(0,a.Wm)(r,{name:e.icon},null,8,["name"])])),_:1})):(0,a.kq)("",!0),(0,a.Wm)(u,null,{default:(0,a.w5)((()=>[(0,a.Wm)(c,null,{default:(0,a.w5)((()=>[(0,a.Uk)((0,l.zw)(e.title),1)])),_:1}),(0,a.Wm)(c,{caption:""},{default:(0,a.w5)((()=>[(0,a.Uk)((0,l.zw)(e.caption),1)])),_:1})])),_:1})])),_:1})):(0,a.kq)("",!0)}const y=(0,a.aZ)({name:"EssentialLink",props:{title:{type:String,required:!0},caption:{type:String,default:""},link:{type:String,default:"#"},icon:{type:String,default:""},level:{type:Number,default:1}}});var v=s(3414),b=s(2035),_=s(4554),W=s(2350),q=s(7518),L=s.n(q);y.render=f;const S=y;L()(y,"components",{QItem:v.Z,QItemSection:b.Z,QIcon:_.Z,QItemLabel:W.Z});var j=s(1959);const $=[{title:"Companies",caption:"Manage companies and its users",icon:"business",link:"/companies"},{title:"Site Settings",caption:"Manage this website",icon:"mdi-file-cog",link:"/site-settings"}],U=[{title:"Live Map",caption:"Live map and stats",icon:"space_dashboard",link:"/"}],Z=[{title:"Dispatch",caption:"Dispatch vehicles(assign drivers/issue gatepass)",icon:"south",link:"/dispatch",level:2},{title:"Gatepass(Routes)",caption:"Manage gatepasses/current vehicles routes",icon:"confirmation_number",link:"/gatepasses",level:2},{title:"Scanner",caption:"QR Scanner for checking drivers in/out",icon:"qr_code_scanner",link:"/scan",level:2}],Q=[{title:"Warehouses",caption:"Manage your warehouses",icon:"mdi-warehouse",link:"/warehouses"},{title:"Vehicles",caption:"Manage your vehicles",icon:"local_shipping",link:"/vehicles"},{title:"Drivers",caption:"Manage your drivers",icon:"airline_seat_recline_normal",link:"/drivers"}],x=[{title:"Users",caption:"Manage users in the system",icon:"people",link:"/users"},{title:"Settings",caption:"Configurable system settings",icon:"settings",link:"/settings",level:3}],C=[{title:"Requests",caption:"Requests under review",icon:"contact_support",link:"/requests"},{title:"Alerts",caption:"Important messages",icon:"notification_important",link:"/alerts"},{title:"Logs",caption:"View vehicle routes(gatepass) history",icon:"feed",link:"/logs"}],E=(0,a.aZ)({name:"MainLayout",components:{EssentialLink:S},methods:{logOut(){this.$store.dispatch("auth/logOut"),this.$api.post("/logout").then((e=>{this.$store.dispatch("auth/checkAuth"),this.$router.push("/")}))}},computed:{authenticated(){return this.$store.getters["auth/authenticated"]}},setup(){const e=(0,j.iH)(!1);return{adminLinks:$,overviewLinks:U,entitiesLinks:Q,systemLinks:x,eventLinks:C,operationLinks:Z,leftDrawerOpen:e,toggleLeftDrawer(){e.value=!e.value}}},created(){}});var H=s(9214),I=s(3812),D=s(9570),M=s(2165),Y=s(3747),O=s(2226),R=s(2901),T=s(7704),G=s(7011),V=s(2652),z=s(4379),K=s(9754),P=s(677);E.render=k;const A=E;L()(E,"components",{QLayout:H.Z,QHeader:I.Z,QToolbar:D.Z,QBtn:M.Z,QToolbarTitle:Y.Z,QBtnDropdown:O.Z,QDrawer:R.Z,QScrollArea:T.Z,QList:G.Z,QItemLabel:W.Z,QPageContainer:V.Z,QPage:z.Z,QSpinner:K.Z}),L()(E,"directives",{ClosePopup:P.Z})}}]);